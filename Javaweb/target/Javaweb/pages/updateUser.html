<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>更新用户信息</title>
    <script src="../static/js/vue.js"></script>
    <script src="../static/js/axios.min.js"></script>
</head>
<body>
<div id="app">
    <h1>更新用户信息</h1>
    <form action="/community/updateUser" enctype="multipart/form-data" method="post">
        <!--        隐藏用户id-->

        <input type="hidden" name="id" v-model="id"><br>
        <input type="text" placeholder="用户名" name="username" v-model="username"><br>
        <input type="password" placeholder="密码" name="password" v-model="password"><br>
        <!--        修改头像-->
        <input type="file" name="img" v-model="img"><br>
        <input type="submit" value="更新"/>
    </form>
</div>
<script>
    new Vue({
        el: '#app',
        data: {
            id: '',
            username: '',
            password: '',
            img: ''
        },
        created: function () {
            // 获取之前封装的user信息 并填充到页面
            this.getUserInfo();
        },
        methods: {
            getUserInfo: function () {
                //获取之前封装的user信息
                let user = JSON.parse(localStorage.getItem('user'));
                this.id = user.id;
                this.username = user.username;
                this.password = user.password;
                this.img = user.img;
            }
        },

    });
</script>
</body>
</html>